import{A as w,R as l,S as g}from"./index-0d465778.js";import{G as y}from"./gm-0ebf93b7.js";import{G as p}from"./Graphics-c5fef545.js";import{T as A}from"./Text-0f7af38b.js";import{A as b}from"./Assets-c56c4a23.js";import{B as _}from"./BlurFilter-717f9085.js";import{r as B,o as R,a as k,c as v}from"./index-6e22933c.js";import"./AbstractText-0d48ff72.js";import"./TextStyle-b7e5389e.js";import"./TexturePool-733ec50d.js";import"./Shader-34042dcb.js";import"./Filter-4d604f8d.js";import"./State-93d76a17.js";const P={__name:"AreaBounds",setup(G){const m=B(null),d=async(n,t)=>{const e=new w;return await e.init({width:n,height:t,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),e},h=n=>{const t=new p;t.circle(0,0,20),t.fill("green"),t.position.set(n.x,n.y);const e=t.getBounds(),{minX:i,minY:s,maxX:o,maxY:c}=e,r=new p;r.rect(0,0,o-i,c-s),r.stroke("red"),r.position.set(i,s);const a=new l(i-20,s-20,o-i+40,c-s+40);return t.boundsArea=a,[r,t]},u=n=>{const t=new p;t.circle(0,0,20),t.fill("green"),t.position.set(n.x,n.y),t.eventMode="static",t.cursor="pointer",t.on("click",()=>{alert("点击了圆形的hitArea")}),t.hitArea=new l(0,0,100,100);const e=new A({text:"修改了hitArea，请移动鼠标并点击查看",style:{fontSize:12,fill:"#fff"}});return e.position.set(t.x-e.width*.5,t.y-e.height-30),[e,t]},f=async n=>{const t=await b.load(y),e=new g(t);return e.width=320,e.height=180,e.position.set(n.x-e.width*.5,n.y),e.filterArea=new l(0,0,t.width,t.height*.5),e.filters=new _,e},x=async n=>{const{element:t,boundingRect:e}=n,i=await d(e.width,e.height);t.appendChild(i.canvas);const s=i.screen,o={x:s.width*.5,y:s.height*.5},c=u({x:o.x,y:o.y*.5}),r=h({x:o.x,y:o.y-30});f(o).then(a=>{i.stage.addChild(a)}),i.stage.addChild(...c,...r)};return R(()=>{const n=m.value,t=n.getBoundingClientRect();x({element:n,boundingRect:t})}),(n,t)=>(k(),v("div",{ref_key:"boxElementRef",ref:m,class:"box"},null,512))}};export{P as default};
