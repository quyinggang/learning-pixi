import{S as x,A as w}from"./index-a54a1fca.js";import{G as g}from"./gm-0ebf93b7.js";import{A as y}from"./Assets-c455fcbb.js";import{G as _}from"./Graphics-5d73db67.js";import{T as b}from"./Text-af478c6d.js";import{r as k,o as A,a as R,c as v}from"./index-347293e6.js";import"./AbstractText-d89a7cfb.js";import"./TextStyle-eadf1a9b.js";const I={__name:"ApplyMask",setup(E){const l=k(null),m=async(t,e)=>{const n=new w;return await n.init({width:t,height:e,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),n},d=async t=>{const{element:e,boundingRect:n}=t,o=await m(n.width,n.height);e.appendChild(o.canvas);const s=o.screen,c={x:s.width*.5,y:s.height*.5},f=await y.load(g),i=new x(f);i.width=s.width,i.height=s.height;const a=new _().circle(0,0,50).fill();i.mask=a,a.position.set(c.x,c.y),o.stage.eventMode="static",o.stage.on("mousemove",p=>{const u=p.screenX,h=p.screenY;a.position.set(u,h)});const r=new b({text:"移动鼠标查看效果",style:{fontSize:16,fill:"#fff"}});r.position.set(c.x-r.width*.5,30),o.stage.addChild(r,a,i)};return A(()=>{const t=l.value,e=t.getBoundingClientRect();d({element:t,boundingRect:e})}),(t,e)=>(R(),v("div",{ref_key:"boxElementRef",ref:l,class:"box"},null,512))}};export{I as default};
